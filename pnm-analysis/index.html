
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A simple guide to ethical hacking tools and techniques.">
      
      
        <meta name="author" content="Seuriin (SSL-ACTX)">
      
      
      
        <link rel="prev" href="../api-analysis-anilist/">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.5">
    
    
      
        <title>PNM Portal API Analysis - Ethical Hacking Guide (?) - Seuriin</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.8608ea7d.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="pink">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#pnm-portal-api-analysis-a-case-study" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Ethical Hacking Guide (?) - Seuriin" class="md-header__button md-logo" aria-label="Ethical Hacking Guide (?) - Seuriin" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Ethical Hacking Guide (?) - Seuriin
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              PNM Portal API Analysis
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="pink"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="pink"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Ethical Hacking Guide (?) - Seuriin" class="md-nav__button md-logo" aria-label="Ethical Hacking Guide (?) - Seuriin" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Ethical Hacking Guide (?) - Seuriin
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Tools
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../core-tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Core Tools
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sql-injection-tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SQL Injection Tools
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web-application-scanners/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Web Application Scanners
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../browser-devtools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Browser Developer Tools
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Concepts
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Concepts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../important-concepts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Important Concepts and Techniques
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Security
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Security
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../anonymity-privacy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Anonymity and Privacy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ethical-considerations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ethical Considerations
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Resources
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Resources
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../further-learning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Further Learning Resources
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Analysis
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Analysis
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api-analysis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API Analysis
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api-analysis-anilist/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API Analysis Example (Anilist)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    PNM Portal API Analysis
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    PNM Portal API Analysis
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-understanding-the-login-process" class="md-nav__link">
    <span class="md-ellipsis">
      1. Understanding the Login Process
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-retrieving-enrolled-courses" class="md-nav__link">
    <span class="md-ellipsis">
      2. Retrieving Enrolled Courses
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-downloading-documents-ovrf-coe-sog" class="md-nav__link">
    <span class="md-ellipsis">
      3. Downloading Documents (OVRF, COE, SOG)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-retrieving-grades" class="md-nav__link">
    <span class="md-ellipsis">
      4. Retrieving Grades
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-other-endpoints-and-data" class="md-nav__link">
    <span class="md-ellipsis">
      5. Other Endpoints and Data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-important-notes" class="md-nav__link">
    <span class="md-ellipsis">
      6. Important Notes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-identifying-logged-in-state" class="md-nav__link">
    <span class="md-ellipsis">
      7. Identifying Logged-In State
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disclaimer" class="md-nav__link">
    <span class="md-ellipsis">
      Disclaimer
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="pnm-portal-api-analysis-a-case-study">PNM Portal API Analysis: A Case Study<a class="headerlink" href="#pnm-portal-api-analysis-a-case-study" title="Permanent link">&para;</a></h1>
<p>This section demonstrates how to analyze the API used by the PNM (Pamantasan ng Montalban / Colegio de Montalban) student portal. We will cover the login process, data retrieval, and document generation.</p>
<div class="admonition warning">
<p class="admonition-title">Important Note</p>
<p>This example is for educational purposes only. Accessing or using this API without authorization is illegal and unethical. Respect website terms of service and avoid any actions that could harm the system or violate student privacy.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Important Note</p>
<p>The information provided here is based on publicly accessible data and observations of network traffic. It should not be used to access or manipulate student data without explicit permission.</p>
</div>
<h2 id="1-understanding-the-login-process">1. Understanding the Login Process<a class="headerlink" href="#1-understanding-the-login-process" title="Permanent link">&para;</a></h2>
<p>The login process involves the following steps:</p>
<ol>
<li><strong>Submitting Credentials:</strong> The user submits their student ID, email address, and password to the <code>https://portal.pnm.edu.ph/v2/login.php</code> endpoint using a POST request.</li>
<li><strong>Accessing the Dashboard:</strong> Upon successful authentication (as determined by cookies), the user is redirected to the main dashboard at <code>https://portal.pnm.edu.ph/index</code>.  The intermediate redirect to <code>auth-redirect</code> can be skipped.</li>
</ol>
<p><strong>Replicating the Login with Python:</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">bs4</span><span class="w"> </span><span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="k">def</span><span class="w"> </span><span class="nf">login_to_pnm</span><span class="p">(</span><span class="n">student_id</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">password</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Logs into the PNM portal and returns the session object if successful,</span>
<span class="sd">    otherwise returns None.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">login_url</span> <span class="o">=</span> <span class="s2">&quot;https://portal.pnm.edu.ph/v2/login.php&quot;</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;accept&quot;</span><span class="p">:</span> <span class="s2">&quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7&quot;</span><span class="p">,</span>
        <span class="s2">&quot;accept-language&quot;</span><span class="p">:</span> <span class="s2">&quot;en-US,en;q=0.9&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cache-control&quot;</span><span class="p">:</span> <span class="s2">&quot;max-age=0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;content-type&quot;</span><span class="p">:</span> <span class="s2">&quot;application/x-www-form-urlencoded&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dnt&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;origin&quot;</span><span class="p">:</span> <span class="s2">&quot;https://portal.pnm.edu.ph&quot;</span><span class="p">,</span>
        <span class="s2">&quot;priority&quot;</span><span class="p">:</span> <span class="s2">&quot;u=0, i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;referer&quot;</span><span class="p">:</span> <span class="s2">&quot;https://portal.pnm.edu.ph/v2/login&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sec-ch-ua&quot;</span><span class="p">:</span> <span class="s1">&#39;&quot;Not(A:Brand&quot;;v=&quot;99&quot;, &quot;Google Chrome&quot;;v=&quot;133&quot;, &quot;Chromium&quot;;v=&quot;133&quot;&#39;</span><span class="p">,</span>
        <span class="s2">&quot;sec-ch-ua-mobile&quot;</span><span class="p">:</span> <span class="s2">&quot;?0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sec-ch-ua-platform&quot;</span><span class="p">:</span> <span class="s1">&#39;&quot;Linux&quot;&#39;</span><span class="p">,</span>
        <span class="s2">&quot;sec-fetch-dest&quot;</span><span class="p">:</span> <span class="s2">&quot;document&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sec-fetch-mode&quot;</span><span class="p">:</span> <span class="s2">&quot;navigate&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sec-fetch-site&quot;</span><span class="p">:</span> <span class="s2">&quot;same-origin&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sec-fetch-user&quot;</span><span class="p">:</span> <span class="s2">&quot;?1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;upgrade-insecure-requests&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;user-agent&quot;</span><span class="p">:</span> <span class="s2">&quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36&quot;</span>
    <span class="p">}</span>
    <span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;studentid&quot;</span><span class="p">:</span> <span class="n">student_id</span><span class="p">,</span>
        <span class="s2">&quot;emailaddress&quot;</span><span class="p">:</span> <span class="n">email</span><span class="p">,</span>
        <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">password</span><span class="p">,</span>
        <span class="s2">&quot;login&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span>
    <span class="p">}</span>

    <span class="n">session</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span>  <span class="c1"># Use a session to persist cookies</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">login_url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">allow_redirects</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="c1"># Check for successful login by examining the response from the index page</span>
    <span class="n">index_url</span> <span class="o">=</span> <span class="s2">&quot;https://portal.pnm.edu.ph/index&quot;</span>
    <span class="n">index_response</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">index_url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span> <span class="c1"># Get the index page</span>
    <span class="k">if</span> <span class="n">index_response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">:</span>
        <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">index_response</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="s1">&#39;html.parser&#39;</span><span class="p">)</span>
        <span class="n">welcome_message</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;sidenav-footer-title&quot;</span><span class="p">)</span> <span class="c1"># Look for the welcome msg on the index page</span>

        <span class="k">if</span> <span class="n">welcome_message</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Login Successful!&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">session</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Login Failed: Could not find welcome message on the index page.&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;HTML Content of Index Response:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">index_response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span> <span class="c1"># Print for debug</span>
            <span class="k">return</span> <span class="kc">None</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Login Failed: Could not retrieve index page (status code:&quot;</span><span class="p">,</span> <span class="n">index_response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="s2">&quot;)&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>

<span class="c1"># Example usage (replace with valid credentials):</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">login_to_pnm</span><span class="p">(</span><span class="s2">&quot;YOUR_STUDENT_ID&quot;</span><span class="p">,</span> <span class="s2">&quot;YOUR_EMAIL&quot;</span><span class="p">,</span> <span class="s2">&quot;YOUR_PASSWORD&quot;</span><span class="p">)</span>

<span class="k">if</span> <span class="n">session</span><span class="p">:</span>
    <span class="c1"># Now you can use the session to access other API endpoints</span>
    <span class="k">pass</span>  <span class="c1"># Proceed to the dashboard and other data retrieval</span>
</code></pre></div>
<p><strong>Explanation:</strong></p>
<ul>
<li><code>login_to_pnm()</code> handles login with student ID, email, and password.</li>
<li>Sets headers/data for the POST request to the login URL.</li>
<li><code>requests.Session()</code> is used to store login cookies.</li>
<li>Code retrieves the <code>/index</code> page and checks for a welcome message to confirm login success. Returns the session if successful, otherwise <code>None</code>.</li>
<li>Illustrates basic login. More complex systems may use CSRF tokens or CAPTCHAs.</li>
</ul>
<h2 id="2-retrieving-enrolled-courses">2. Retrieving Enrolled Courses<a class="headerlink" href="#2-retrieving-enrolled-courses" title="Permanent link">&para;</a></h2>
<p>Once logged in, you can retrieve the enrolled courses by sending a POST request to <code>https://portal.pnm.edu.ph/getEnrolledCourses.php</code> with the student ID. The server returns a JSON response containing the course information.</p>
<p><strong>Python Code:</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">if</span> <span class="n">session</span><span class="p">:</span>  <span class="c1"># Assuming you have a valid session from the login</span>
    <span class="n">courses_url</span> <span class="o">=</span> <span class="s2">&quot;https://portal.pnm.edu.ph/getEnrolledCourses.php&quot;</span>
    <span class="n">courses_headers</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;accept&quot;</span><span class="p">:</span> <span class="s2">&quot;application/json, text/javascript, */*; q=0.01&quot;</span><span class="p">,</span>
        <span class="s2">&quot;accept-language&quot;</span><span class="p">:</span> <span class="s2">&quot;en-US,en;q=0.9&quot;</span><span class="p">,</span>
        <span class="s2">&quot;content-type&quot;</span><span class="p">:</span> <span class="s2">&quot;application/x-www-form-urlencoded; charset=UTF-8&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dnt&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;origin&quot;</span><span class="p">:</span> <span class="s2">&quot;https://portal.pnm.edu.ph&quot;</span><span class="p">,</span>
        <span class="s2">&quot;priority&quot;</span><span class="p">:</span> <span class="s2">&quot;u=1, i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;referer&quot;</span><span class="p">:</span> <span class="s2">&quot;https://portal.pnm.edu.ph/enrollment3&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sec-ch-ua&quot;</span><span class="p">:</span> <span class="s1">&#39;&quot;Not(A:Brand&quot;;v=&quot;99&quot;, &quot;Google Chrome&quot;;v=&quot;133&quot;, &quot;Chromium&quot;;v=&quot;133&quot;&#39;</span><span class="p">,</span>
        <span class="s2">&quot;sec-ch-ua-mobile&quot;</span><span class="p">:</span> <span class="s2">&quot;?0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sec-ch-ua-platform&quot;</span><span class="p">:</span> <span class="s1">&#39;&quot;Linux&quot;&#39;</span><span class="p">,</span>
        <span class="s2">&quot;sec-fetch-dest&quot;</span><span class="p">:</span> <span class="s2">&quot;empty&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sec-fetch-mode&quot;</span><span class="p">:</span> <span class="s2">&quot;cors&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sec-fetch-site&quot;</span><span class="p">:</span> <span class="s2">&quot;same-origin&quot;</span><span class="p">,</span>
        <span class="s2">&quot;user-agent&quot;</span><span class="p">:</span> <span class="s2">&quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36&quot;</span><span class="p">,</span>
        <span class="s2">&quot;x-requested-with&quot;</span><span class="p">:</span> <span class="s2">&quot;XMLHttpRequest&quot;</span>
    <span class="p">}</span>
    <span class="n">courses_data</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;student_id&quot;</span><span class="p">:</span> <span class="s2">&quot;YOUR_STUDENT_ID&quot;</span>  <span class="c1"># Replace with the actual student ID</span>
    <span class="p">}</span>

    <span class="n">courses_response</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">courses_url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">courses_headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">courses_data</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">courses_response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">:</span>
        <span class="n">courses_json</span> <span class="o">=</span> <span class="n">courses_response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Enrolled Courses:&quot;</span><span class="p">,</span> <span class="n">courses_json</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Failed to retrieve enrolled courses.&quot;</span><span class="p">)</span>
</code></pre></div>
<p><strong>Explanation:</strong></p>
<ul>
<li>This code assumes you have a valid <code>session</code> object from the login function.</li>
<li>It constructs the headers and data for the <code>getEnrolledCourses.php</code> POST request.</li>
<li>It uses <code>session.post()</code> to send the request, ensuring that the cookies are included.</li>
<li>It parses the JSON response and prints the course information.</li>
</ul>
<h2 id="3-downloading-documents-ovrf-coe-sog">3. Downloading Documents (OVRF, COE, SOG)<a class="headerlink" href="#3-downloading-documents-ovrf-coe-sog" title="Permanent link">&para;</a></h2>
<p>The API provides endpoints for generating and downloading documents such as the OVRF, Certificate of Enrollment (COE), and Summary of Grades (SOG). These endpoints typically return PDF files.</p>
<ul>
<li><strong>Generating OVRF:</strong> POST request to <code>https://portal.pnm.edu.ph/generateOVRF.php</code> with <code>student_id</code>.</li>
<li><strong>Generating COE:</strong> POST request to <code>https://portal.pnm.edu.ph/generateCOE.php</code> with <code>student_id</code> and <code>purpose</code>. The <code>purpose</code> parameter accepts values like "Scholarship Applications", "Internship Requirements", etc.</li>
<li><strong>Generating SOG:</strong> POST request to <code>https://portal.pnm.edu.ph/generateSOG.php</code> with <code>student_id</code> and <code>purpose</code>. The <code>purpose</code> parameter is similar to the COE endpoint.</li>
</ul>
<p><strong>Python Code (Example for COE):</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">if</span> <span class="n">session</span><span class="p">:</span>  <span class="c1"># Assuming a valid session</span>
    <span class="n">coe_url</span> <span class="o">=</span> <span class="s2">&quot;https://portal.pnm.edu.ph/generateCOE.php&quot;</span>
    <span class="n">coe_headers</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;accept&quot;</span><span class="p">:</span> <span class="s2">&quot;*/*&quot;</span><span class="p">,</span>
        <span class="s2">&quot;accept-language&quot;</span><span class="p">:</span> <span class="s2">&quot;en-US,en;q=0.9&quot;</span><span class="p">,</span>
        <span class="s2">&quot;content-type&quot;</span><span class="p">:</span> <span class="s2">&quot;application/x-www-form-urlencoded&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dnt&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;origin&quot;</span><span class="p">:</span> <span class="s2">&quot;https://portal.pnm.edu.ph&quot;</span><span class="p">,</span>
        <span class="s2">&quot;priority&quot;</span><span class="p">:</span> <span class="s2">&quot;u=1, i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;referer&quot;</span><span class="p">:</span> <span class="s2">&quot;https://portal.pnm.edu.ph/enrollment3&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sec-ch-ua&quot;</span><span class="p">:</span> <span class="s1">&#39;&quot;Not(A:Brand&quot;;v=&quot;99&quot;, &quot;Google Chrome&quot;;v=&quot;133&quot;, &quot;Chromium&quot;;v=&quot;133&quot;&#39;</span><span class="p">,</span>
        <span class="s2">&quot;sec-ch-ua-mobile&quot;</span><span class="p">:</span> <span class="s2">&quot;?0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sec-ch-ua-platform&quot;</span><span class="p">:</span> <span class="s1">&#39;&quot;Linux&quot;&#39;</span><span class="p">,</span>
        <span class="s2">&quot;sec-fetch-dest&quot;</span><span class="p">:</span> <span class="s2">&quot;empty&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sec-fetch-mode&quot;</span><span class="p">:</span> <span class="s2">&quot;cors&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sec-fetch-site&quot;</span><span class="p">:</span> <span class="s2">&quot;same-origin&quot;</span><span class="p">,</span>
        <span class="s2">&quot;user-agent&quot;</span><span class="p">:</span> <span class="s2">&quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36&quot;</span>
    <span class="p">}</span>
    <span class="n">coe_data</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;student_id&quot;</span><span class="p">:</span> <span class="s2">&quot;YOUR_STUDENT_ID&quot;</span><span class="p">,</span>  <span class="c1"># Replace</span>
        <span class="s2">&quot;purpose&quot;</span><span class="p">:</span> <span class="s2">&quot;Scholarship Applications&quot;</span>  <span class="c1"># Or other valid purpose</span>
    <span class="p">}</span>

    <span class="n">coe_response</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">coe_url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">coe_headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">coe_data</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">coe_response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;certificate_of_enrollment.pdf&quot;</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">coe_response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;COE downloaded successfully as certificate_of_enrollment.pdf&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Failed to download COE.&quot;</span><span class="p">)</span>
</code></pre></div>
<p><strong>Python Code (Example for OVRF):</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">if</span> <span class="n">session</span><span class="p">:</span>  <span class="c1"># Assuming a valid session</span>
    <span class="n">ovrf_url</span> <span class="o">=</span> <span class="s2">&quot;https://portal.pnm.edu.ph/generateOVRF.php&quot;</span>
    <span class="n">ovrf_headers</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;accept&quot;</span><span class="p">:</span> <span class="s2">&quot;*/*&quot;</span><span class="p">,</span>
        <span class="s2">&quot;accept-language&quot;</span><span class="p">:</span> <span class="s2">&quot;en-US,en;q=0.9&quot;</span><span class="p">,</span>
        <span class="s2">&quot;content-type&quot;</span><span class="p">:</span> <span class="s2">&quot;application/x-www-form-urlencoded&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dnt&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;origin&quot;</span><span class="p">:</span> <span class="s2">&quot;https://portal.pnm.edu.ph&quot;</span><span class="p">,</span>
        <span class="s2">&quot;priority&quot;</span><span class="p">:</span> <span class="s2">&quot;u=1, i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;referer&quot;</span><span class="p">:</span> <span class="s2">&quot;https://portal.pnm.edu.ph/enrollment3&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sec-ch-ua&quot;</span><span class="p">:</span> <span class="s1">&#39;&quot;Not(A:Brand&quot;;v=&quot;99&quot;, &quot;Google Chrome&quot;;v=&quot;133&quot;, &quot;Chromium&quot;;v=&quot;133&quot;&#39;</span><span class="p">,</span>
        <span class="s2">&quot;sec-ch-ua-mobile&quot;</span><span class="p">:</span> <span class="s2">&quot;?0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sec-ch-ua-platform&quot;</span><span class="p">:</span> <span class="s1">&#39;&quot;Linux&quot;&#39;</span><span class="p">,</span>
        <span class="s2">&quot;sec-fetch-dest&quot;</span><span class="p">:</span> <span class="s2">&quot;empty&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sec-fetch-mode&quot;</span><span class="p">:</span> <span class="s2">&quot;cors&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sec-fetch-site&quot;</span><span class="p">:</span> <span class="s2">&quot;same-origin&quot;</span><span class="p">,</span>
        <span class="s2">&quot;user-agent&quot;</span><span class="p">:</span> <span class="s2">&quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36&quot;</span>
    <span class="p">}</span>
    <span class="n">ovrf_data</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;student_id&quot;</span><span class="p">:</span> <span class="s2">&quot;YOUR_STUDENT_ID&quot;</span>  <span class="c1"># Replace</span>
    <span class="p">}</span>

    <span class="n">ovrf_response</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">ovrf_url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">ovrf_headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">ovrf_data</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">ovrf_response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;ovrf.pdf&quot;</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">ovrf_response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;OVRF downloaded successfully as ovrf.pdf&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Failed to download OVRF.&quot;</span><span class="p">)</span>
</code></pre></div>
<p><strong>Explanation:</strong></p>
<ul>
<li>This code shows how to download the COE.  The process is similar for OVRF and SOG.</li>
<li>It sets the appropriate headers and data for the POST request.</li>
<li>It uses <code>session.post()</code> to send the request.</li>
<li>If the request is successful, it saves the PDF content to a file.</li>
</ul>
<h2 id="4-retrieving-grades">4. Retrieving Grades<a class="headerlink" href="#4-retrieving-grades" title="Permanent link">&para;</a></h2>
<p>Grades can be retrieved via a POST request to <code>https://portal.pnm.edu.ph/test2.php</code> with <code>student_id</code>. The response is a JSON array of objects, each containing subject code, description, and grade.</p>
<p><strong>Python Code:</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">if</span> <span class="n">session</span><span class="p">:</span>
    <span class="n">grades_url</span> <span class="o">=</span> <span class="s2">&quot;https://portal.pnm.edu.ph/test2.php&quot;</span>
    <span class="n">grades_headers</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;accept&quot;</span><span class="p">:</span> <span class="s2">&quot;application/json, text/javascript, */*; q=0.01&quot;</span><span class="p">,</span>
        <span class="s2">&quot;accept-language&quot;</span><span class="p">:</span> <span class="s2">&quot;en-US,en;q=0.9&quot;</span><span class="p">,</span>
        <span class="s2">&quot;content-type&quot;</span><span class="p">:</span> <span class="s2">&quot;application/x-www-form-urlencoded; charset=UTF-8&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dnt&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;origin&quot;</span><span class="p">:</span> <span class="s2">&quot;https://portal.pnm.edu.ph&quot;</span><span class="p">,</span>
        <span class="s2">&quot;priority&quot;</span><span class="p">:</span> <span class="s2">&quot;u=1, i&quot;</span><span class="p">,</span>
        <span class="s2">&quot;referer&quot;</span><span class="p">:</span> <span class="s2">&quot;https://portal.pnm.edu.ph/grades&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sec-ch-ua&quot;</span><span class="p">:</span> <span class="s1">&#39;&quot;Not(A:Brand&quot;;v=&quot;99&quot;, &quot;Google Chrome&quot;;v=&quot;133&quot;, &quot;Chromium&quot;;v=&quot;133&quot;&#39;</span><span class="p">,</span>
        <span class="s2">&quot;sec-ch-ua-mobile&quot;</span><span class="p">:</span> <span class="s2">&quot;?0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sec-ch-ua-platform&quot;</span><span class="p">:</span> <span class="s1">&#39;&quot;Linux&quot;&#39;</span><span class="p">,</span>
        <span class="s2">&quot;sec-fetch-dest&quot;</span><span class="p">:</span> <span class="s2">&quot;empty&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sec-fetch-mode&quot;</span><span class="p">:</span> <span class="s2">&quot;cors&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sec-fetch-site&quot;</span><span class="p">:</span> <span class="s2">&quot;same-origin&quot;</span><span class="p">,</span>
        <span class="s2">&quot;user-agent&quot;</span><span class="p">:</span> <span class="s2">&quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36&quot;</span><span class="p">,</span>
        <span class="s2">&quot;x-requested-with&quot;</span><span class="p">:</span> <span class="s2">&quot;XMLHttpRequest&quot;</span>
    <span class="p">}</span>
    <span class="n">grades_data</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;student_id&quot;</span><span class="p">:</span> <span class="s2">&quot;YOUR_STUDENT_ID&quot;</span>
    <span class="p">}</span>

    <span class="n">grades_response</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">grades_url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">grades_headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">grades_data</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">grades_response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">:</span>
        <span class="n">grades_json</span> <span class="o">=</span> <span class="n">grades_response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Grades:&quot;</span><span class="p">,</span> <span class="n">grades_json</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Failed to retrieve grades.&quot;</span><span class="p">)</span>
</code></pre></div>
<h2 id="5-other-endpoints-and-data">5. Other Endpoints and Data<a class="headerlink" href="#5-other-endpoints-and-data" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Evaluated Instructors:</strong>  <code>https://portal.pnm.edu.ph/fetchEval.php?student_id=...</code>. This endpoint requires no authentication and returns a list of instructors to be evaluated.</li>
<li><strong>E-books:</strong>  <code>https://portal.pnm.edu.ph/getEbooks.php</code>. This endpoint requires no authentication and returns a list of available e-books.</li>
</ul>
<h2 id="6-important-notes">6. Important Notes<a class="headerlink" href="#6-important-notes" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Session Management:</strong> The <code>PHPSESSID</code>, <code>session_iv</code>, and <code>session_id</code> cookies are crucial for maintaining the session. The <code>requests.Session()</code> object automatically handles these cookies.</li>
<li><strong>Headers:</strong> Pay close attention to the headers, especially <code>Content-Type</code>, <code>Referer</code>, and <code>User-Agent</code>.</li>
<li><strong>Authentication:</strong> The code assumes you have valid credentials. Gaining access to credentials without authorization is illegal.</li>
<li><strong>Rate Limiting:</strong> Be careful not to overload the server with too many requests. Implement delays if necessary.</li>
<li><strong>Legal and Ethical Considerations:</strong> Unauthorized access to student data is a serious offense. Only perform these actions with explicit permission and for legitimate educational purposes.</li>
<li><strong>Cloudflare:</strong> The presence of <code>cf_clearance</code> cookie suggests Cloudflare protection. This may require additional handling to bypass.</li>
</ul>
<h2 id="7-identifying-logged-in-state">7. Identifying Logged-In State<a class="headerlink" href="#7-identifying-logged-in-state" title="Permanent link">&para;</a></h2>
<p>Several indicators can determine if a user is logged in:</p>
<ul>
<li>The presence of specific cookies (<code>PHPSESSID</code>, <code>session_iv</code>, <code>session_id</code>).</li>
<li>Redirection to the dashboard (<code>https://portal.pnm.edu.ph/index</code>).</li>
<li>The presence of the welcome message and student name in the dashboard HTML.</li>
<li>The existence of menu items such as "Enrolled Courses," "Grades," and "Evaluation."</li>
</ul>
<h2 id="disclaimer">Disclaimer<a class="headerlink" href="#disclaimer" title="Permanent link">&para;</a></h2>
<p>This document is intended for educational purposes only and should not be used for any illegal or unethical activities. Accessing or manipulating student data without authorization is strictly prohibited. Always respect website terms of service and avoid any actions that could harm the system or violate student privacy. The author assumes no responsibility for any misuse of the information provided herein.</p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.tracking", "navigation.sections", "navigation.expand", "toc.integrate", "search.suggest", "search.highlight", "search.share", "content.tabs.link", "content.code.copy"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.f1b6f286.min.js"></script>
      
    
  </body>
</html>